<% include ../partials/boilerplate.ejs %>

<nav>
  <div class = 'searchBar'>
    <input type ='text' class = 'search' placeholder = 'Find a Show!'>
    <button type ='submit' class = 'finder'>Search</button>
  </div>
  <div class = 'move'>
    <form method = 'GET' action = '/shows/favorites'>
      <button type="submit">Favorites</button>
    </form>
    <a href ='/auth/logout'><button>Logout</button></a>
  </div>
</nav>
<div id = 'showsListing'>
  <% if (favorites.length === 0) { %>
    <h1 class = 'heartless'>You have no favorites heartless creature</h1>
  <% } %>
  <% favorites.forEach(e => { %>
    <div class = 'showContainer'>
      <div class = 'showPicture'>
          <img  class = 'miniPoster' src ='<%= e.posterpath %>'>
        <div class = 'buttonContainer'>
          <form method = 'GET' action = '/shows/search/<%= e.showcodeid %>'>
            <button type="submit">See More Info!</button>
          </form>
          <form method="POST" action="/shows/search/<%= e.id %>?_method=DELETE">
            <button type="submit">Delete this trash</button>
          </form>
        </div>
      </div>
      <div class = 'showInfo'>
        <h1><%= e.name %></h1>
        <h2><b>First Air Date:</b> <%= e.first_air_date %></h2>
        <p><b>Description:</b> <%= e.description %></p>
      </div>
    </div>
<% }) %>
</div>
<script src='/src/main.js'></script>
<% include ../partials/end.ejs %>
